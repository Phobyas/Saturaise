{%- comment -%}
  structured-data-collection.liquid
  Renderuj w sekcji main-collection:
  {% render 'structured-data-collection', collection: collection %}
{%- endcomment -%}

<script type="application/ld+json">
[
  {
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    "@id": "{{ shop.url }}{{ collection.url }}#collection",
    "url": "{{ shop.url }}{{ collection.url }}",
    "name": {{ collection.title | json }},
    {% if collection.description != blank -%}
    "description": {{ collection.description | strip_html | strip_newlines | truncate: 300 | json }},
    {%- else -%}
    "description": {{ collection.title | append: " - oryginalne produkty w Saturaise" | json }},
    {%- endif %}
    {% if collection.image -%}
    "image": "https:{{ collection.image | image_url: width: 1200 }}",
    {%- endif %}
    "numberOfItems": {{ collection.products_count }},
    "isPartOf": {
      "@type": "WebSite",
      "@id": "https://saturaise.com/#website"
    },
    "provider": {
      "@type": "Organization",
      "@id": "https://saturaise.com/#organization"
    }
  },

  {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "url": "{{ shop.url }}{{ collection.url }}",
    "numberOfItems": {{ collection.products.size }},
    "itemListElement": [
      {%- for product in collection.products limit: 12 %}
      {
        "@type": "ListItem",
        "position": {{ forloop.index }},
        "url": "{{ shop.url }}{{ product.url }}"
      }{% unless forloop.last %},{% endunless %}
      {%- endfor %}
    ]
  },

  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Strona glowna",
        "item": "{{ shop.url }}"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": {{ collection.title | json }},
        "item": "{{ shop.url }}{{ collection.url }}"
      }
    ]
  }
]
</script>
